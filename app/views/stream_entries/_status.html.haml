- if status.reply? && include_threads
  - status.ancestors.with_includes.with_counters.each do |status|
    = render partial: 'status', locals: { status: status, include_threads: false, is_predecessor: true, is_successor: false }

.entry{ class: entry_classes(status, is_predecessor, is_successor, include_threads) }
  - if status.reblog?
    .pre-header
      %i.fa.fa-retweet
      Shared by
      = link_to display_name(status.account), url_for_target(status.account), class: 'name'

  .entry__container
    .avatar
      = image_tag avatar_for_status_url(status)

    .entry__container__container
      .header
        .header__left
          = link_to url_for_target(status.reblog? ? status.reblog.account : status.account), class: 'name' do
            %strong= display_name(status.reblog? ? status.reblog.account : status.account)
            = "@#{status.reblog? ? status.reblog.account.acct : status.account.acct}"
          = link_to url_for_target(status.reblog? ? status.reblog : status), class: 'time' do
            %span{ title: status.reblog? ? status.reblog.created_at : status.created_at }
              = relative_time(status.reblog? ? status.reblog.created_at : status.created_at)
        .header__right
          .counter-btn{ class: reblogged_by_me_class(status) }
            %i.fa.fa-retweet
            %span.counter-number= status.reblog? ? status.reblog.reblogs_count : status.reblogs_count
          .counter-btn{ class: favourited_by_me_class(status) }
            %i.fa.fa-star
            %span.counter-number= status.reblog? ? status.reblog.favourites_count : status.favourites_count
      .content
        = status.reblog? ? (status.reblog.local? ? linkify(status.reblog) : status.reblog.content.html_safe) : (status.local? ? linkify(status) : status.content.html_safe)

- if include_threads
  - status.descendants.with_includes.with_counters.each do |status|
    = render partial: 'status', locals: { status: status, include_threads: false, is_successor: true, is_predecessor: false }
